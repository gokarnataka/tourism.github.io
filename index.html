// STARTUP-READY TOURISM PLATFORM
// React + Tailwind + Admin Login + Booking + Payment (Razorpay-ready)
// Architecture designed for scaling (Startup / SaaS model)

import React, { useState } from "react";
import { BrowserRouter as Router, Routes, Route, Link, Navigate } from "react-router-dom";

/* ================= CONFIG (ADMIN EDITABLE) ================= */
const CONFIG = {
  businessName: "Hampi & Sandur Tourism Pvt Ltd",
  phone: "+91 9XXXXXXXXX",
  email: "support@hampitourism.in",
  whatsapp: "919XXXXXXXXX",
  razorpayKey: "RAZORPAY_PUBLIC_KEY", // replace in production
  packages: [
    { id: 1, name: "Hampi Heritage Day Tour", price: 1999 },
    { id: 2, name: "Sandur Nature Retreat", price: 2499 }
  ]
};

/* ================= AUTH (SIMPLE DEMO) ================= */
function useAuth() {
  const [admin, setAdmin] = useState(false);
  return { admin, login: () => setAdmin(true), logout: () => setAdmin(false) };
}

/* ================= COMPONENTS ================= */
function Navbar({ admin }) {
  return (
    <nav className="flex justify-between p-4 shadow bg-white">
      <h1 className="font-bold text-xl text-amber-800">{CONFIG.businessName}</h1>
      <div className="space-x-4">
        <Link to="/">Home</Link>
        <Link to="/packages">Packages</Link>
        <Link to="/book">Book</Link>
        <Link to="/contact">Contact</Link>
        {admin && <Link to="/admin">Admin</Link>}
      </div>
    </nav>
  );
}

/* ================= PAGES ================= */
function Home() {
  return (
    <section className="p-10 text-center">
      <h2 className="text-3xl font-bold mb-4">Official Tourism Booking Platform</h2>
      <p>Government-approved tours, verified guides, secure payments.</p>
    </section>
  );
}

function Packages() {
  return (
    <section className="p-10 max-w-4xl mx-auto">
      <h2 className="text-2xl font-bold mb-6">Tour Packages</h2>
      {CONFIG.packages.map(p => (
        <div key={p.id} className="border p-4 mb-4 rounded">
          <h3 className="font-semibold">{p.name}</h3>
          <p>‚Çπ{p.price}</p>
          <Link className="text-blue-600" to="/book">Book Now</Link>
        </div>
      ))}
    </section>
  );
}

function Booking() {
  return (
    <section className="p-10 max-w-3xl mx-auto">
      <h2 className="text-2xl font-bold mb-4">Booking Details</h2>
      <form className="space-y-4">
        <input className="border p-2 w-full" placeholder="Name" />
        <input className="border p-2 w-full" placeholder="Phone" />
        <select className="border p-2 w-full">
          {CONFIG.packages.map(p => (
            <option key={p.id}>{p.name}</option>
          ))}
        </select>
        <button className="bg-amber-700 text-white px-4 py-2 rounded">
          Proceed to Payment
        </button>
      </form>
    </section>
  );
}

function Contact() {
  return (
    <section className="p-10 text-center">
      <p>üìû {CONFIG.phone}</p>
      <p>‚úâÔ∏è {CONFIG.email}</p>
      <a className="text-green-600" href={`https://wa.me/${CONFIG.whatsapp}`}>
        WhatsApp Support
      </a>
    </section>
  );
}

/* ================= ADMIN ================= */
function AdminLogin({ auth }) {
  return (
    <section className="p-10 max-w-sm mx-auto">
      <h2 className="text-xl font-bold mb-4">Admin Login</h2>
      <button
        onClick={auth.login}
        className="bg-black text-white px-4 py-2 rounded"
      >
        Login (Demo)
      </button>
    </section>
  );
}

function AdminDashboard({ auth }) {
  if (!auth.admin) return <Navigate to="/admin-login" />;
  return (
    <section className="p-10">
      <h2 className="text-2xl font-bold mb-4">Admin Dashboard</h2>
      <ul className="list-disc pl-6">
        <li>Manage Packages</li>
        <li>View Bookings</li>
        <li>Update Prices</li>
        <li>Export Reports</li>
      </ul>
      <button onClick={auth.logout} className="mt-4 underline">Logout</button>
    </section>
  );
}

/* ================= APP ================= */
export default function App() {
  const auth = useAuth();
  return (
    <Router>
      <Navbar admin={auth.admin} />
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/packages" element={<Packages />} />
        <Route path="/book" element={<Booking />} />
        <Route path="/contact" element={<Contact />} />
        <Route path="/admin-login" element={<AdminLogin auth={auth} />} />
        <Route path="/admin" element={<AdminDashboard auth={auth} />} />
      </Routes>
    </Router>
  );
}

